# Claw 知识库管理规则

## 📁 知识任务组织

### 1. 文件夹结构
- 每个知识任务使用**单独文件夹**管理
- 文件夹命名采用**小写中划线分割**格式（例如：`ai-applications`、`web-development-tutorial`）
- 每个文件夹代表一个独立的知识主题或项目
- **知识任务根目录**: 所有知识任务文件夹放在 `knowledge/` 目录下

### 2. Slidev 演示文稿规范
- **根目录演示文稿**: `slides.md` + `package.json` 用于知识库整体介绍
- **任务级演示文稿**: 在每个知识任务文件夹中可包含独立的 Slidev 演示文稿
- **文件命名**: 
  - 主幻灯片文件: `slides.md`
  - 自定义组件: `components/` 目录
  - 全局样式: `global-top.vue`, `global-bottom.vue`
  - 代码片段: `snippets/` 目录

### 3. Slidev 内容规范
- **Frontmatter 配置**: 每个演示文稿必须包含清晰的标题和主题配置
- **代码示例**: 使用适当的语言标记和高亮
- **交互元素**: 合理使用 v-click 动画展示复杂概念
- **导出友好**: 确保内容在 PDF 导出时仍然可读

## 🔧 开发工作流

### 1. 分支管理
- **必须在独立分支**上进行每个知识任务的开发
- 分支命名建议：`feature/task-name` 或 `knowledge/task-name`
- 完成后提交评审
- **评审通过后才能合并到 main 分支**

### 2. Slidev 开发流程
- **本地预览**: 使用 `npm run dev` 启动开发服务器
- **实时编辑**: 修改 `slides.md` 文件，浏览器自动刷新
- **功能测试**: 测试所有交互元素和动画效果
- **导出验证**: 使用 `npm run export` 验证 PDF 导出效果

### 3. 提交规范
- **原子提交**: 每个提交只包含一个逻辑变更
- **清晰消息**: 提交消息应清楚描述变更内容
- **Slidev 特定**: 包含演示文稿相关的变更说明

## 📋 质量保证

### 1. 内容质量
- 每个知识任务应包含清晰的 README
- 代码示例需要有注释和说明
- 文档应保持结构化和易读性
- Slidev 演示文稿应包含适当的演示者笔记

### 2. 技术质量
- **依赖管理**: 使用一致的 Node.js 和 npm 版本
- **兼容性**: 确保演示文稿在不同浏览器中正常工作
- **性能**: 优化大型图片和资源的加载
- **可访问性**: 遵循基本的可访问性最佳实践

### 3. Slidev 最佳实践
- **模块化**: 将大型演示文稿拆分为多个文件
- **组件复用**: 创建可复用的自定义组件
- **主题一致性**: 保持视觉风格的一致性
- **备份策略**: 定期导出 PDF 作为备份

## 🚀 发布和分享

### 1. 本地使用
- **开发模式**: `npm run dev` - 实时预览和编辑
- **构建模式**: `npm run build` - 生成静态站点
- **导出模式**: `npm run export` - 生成 PDF/PPTX

### 2. GitHub Pages 自动部署
- **构建脚本**: 使用 `scripts/build-pages.sh` 进行自动化构建
- **构建命令**: `npx slidev build knowledge/{task-name}/slides.md --out=../../dist/{task-name}`
- **输出目录**: 构建结果输出到 `dist/` 目录
- **部署流程**: GitHub Actions 自动运行构建脚本并部署到 GitHub Pages

### 3. 分享方式
- **在线链接**: 分享部署后的 URL (`https://teeeemoji.github.io/claw/`)
- **PDF 下载**: 提供离线阅读版本
- **源码访问**: 其他人可以克隆仓库并本地运行

## 💡 维护建议

### 1. 定期更新
- **依赖更新**: 定期更新 Slidev 和相关依赖
- **内容更新**: 根据技术发展更新知识内容
- **功能增强**: 添加新的 Slidev 功能和组件

### 2. 社区贡献
- **模板共享**: 创建可复用的演示文稿模板
- **组件库**: 构建自定义组件库
- **最佳实践**: 分享 Slidev 使用经验

### 3. 备份策略
- **版本控制**: 所有内容都通过 Git 进行版本控制
- **定期导出**: 重要演示文稿定期导出为 PDF
- **多端同步**: 确保本地和远程仓库同步

## 🛠️ 构建脚本规范

### scripts/build-pages.sh 使用说明
- **用途**: 专为 GitHub Pages 部署设计的构建脚本
- **执行方式**: `./scripts/build-pages.sh`
- **依赖**: 需要 Node.js 环境和网络连接
- **输出**: 生成的静态文件位于 `dist/` 目录
- **错误处理**: 脚本使用 `set -e` 确保任何错误都会停止执行

### 自定义构建
- **单个任务构建**: 可以修改脚本中的路径来构建特定知识任务
- **批量构建**: 可以扩展脚本支持多个知识任务的批量构建
- **本地测试**: 在推送前可以本地运行脚本来验证构建过程

---

> **记住**: Slidev 不仅是演示工具，更是知识整理和分享的强大平台。善用其交互性和代码集成能力，让你的知识分享更加生动和实用！